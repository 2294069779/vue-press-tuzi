(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{429:function(t,a,e){"use strict";e.r(a);var s=e(1),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"gitlab-ci"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-ci"}},[t._v("#")]),t._v(" gitlab-ci")]),t._v(" "),a("h5",{attrs:{id:"gitlab-ci-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-ci-2"}},[t._v("#")]),t._v(" gitlab-ci")]),t._v(" "),a("ul",[a("li",[t._v("gitlab 内置工具")])]),t._v(" "),a("h5",{attrs:{id:"gitlab-ci-yml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-ci-yml"}},[t._v("#")]),t._v(" gitlab-ci.yml")]),t._v(" "),a("ul",[a("li",[t._v("根目录下的文件，定义了 job 如何执行")])]),t._v(" "),a("h5",{attrs:{id:"gitlabrunner"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitlabrunner"}},[t._v("#")]),t._v(" gitlabRunner")]),t._v(" "),a("ul",[a("li",[t._v("执行工具")])]),t._v(" "),a("h5",{attrs:{id:"ppeline-管道"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ppeline-管道"}},[t._v("#")]),t._v(" ppeline 管道")]),t._v(" "),a("ul",[a("li"),t._v(" "),a("li",[t._v("stages:\n"),a("ul",[a("li",[t._v("build")]),t._v(" "),a("li",[t._v("test")]),t._v(" "),a("li",[t._v("deploy")])])]),t._v(" "),a("li",[t._v("stage:阶段\n"),a("ul",[a("li",[t._v("Job：作业（任务）")])])])]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Job被定义为顶级元素，并且至少包括一条script语句，如果一个 Job 没有显式地关联某个 Stage，则会被默认关联到 test Stage\n")])])]),a("h5",{attrs:{id:"gitlab-ci-参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-ci-参数"}},[t._v("#")]),t._v(" gitlab-ci 参数")]),t._v(" "),a("p",[t._v("stages：定义全局阶段（按顺序执行），如果多个 job 关联的 stage 名相同下并行执行")]),t._v(" "),a("p",[t._v("stage：关联的 Job")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("如果文件中没有定义 stages，那么则默认包含 build、test 和 deploy 三个 stage\n")])])]),a("p",[t._v("image and services")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("指定任务运行时所需的自定义的docker镜像和服务\n")])])]),a("p",[t._v("before_script and after_script")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("before_script:用于定义一些在所有任务执行前所需执行的命令，包括部署工作（单个/全部）\nafter_script:用于定义所有job执行过后需要执行的命令\n")])])]),a("p",[t._v("only and except")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("only:定义了job需要执行的所在分支或标签\nexcept：定义了job不会执行的所在分支或标签\nonly和except如果都存在在一个job声明中，则所需引用将会被only和except所定义的分支过滤\nonly和except允许使用正则\nonly和except允许使用指定仓库地址，但是不forks仓库\n")])])]),a("p",[a("img",{attrs:{src:"C:%5CUsers%5Cwangqin%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1677651726520.png",alt:"1677651726520"}})]),t._v(" "),a("p",[t._v("所以我们一般先本地构建好，然后提交"),a("code",[t._v(".gitlab-ci.yaml")])]),t._v(" "),a("p",[t._v("number= id")]),t._v(" "),a("p",[t._v("describe**=")]),t._v(" "),a("p",[t._v("=parentId")]),t._v(" "),a("p",[a("strong",[t._v("creatorNumber")]),t._v("="),a("strong",[t._v("creatorId")])]),t._v(" "),a("p",[a("strong",[t._v("organizationNumber")]),t._v("=")]),t._v(" "),a("p",[a("strong",[t._v("organizationName")]),t._v("=")]),t._v(" "),a("p",[t._v("=**permission.****open**")]),t._v(" "),a("p",[t._v("=permission.****historyLabel")]),t._v(" "),a("p",[t._v("=**permission.****memberManager**")])])}),[],!1,null,null,null);a.default=r.exports}}]);